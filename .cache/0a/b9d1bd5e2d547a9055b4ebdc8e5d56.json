{"id":"S8we","dependencies":[{"name":"/Applications/MAMP/htdocs/Reduced_Listening/package.json","includedInParent":true,"mtime":1605782059000},{"name":"wavesurfer.js","loc":{"line":1,"column":23},"parent":"/Applications/MAMP/htdocs/Reduced_Listening/site/js/audioplayer/_waveform.js","resolved":"/Applications/MAMP/htdocs/Reduced_Listening/node_modules/wavesurfer.js/dist/wavesurfer.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.initWaveform=void 0;var e=r(require(\"wavesurfer.js\"));function r(e){return e&&e.__esModule?e:{default:e}}var t=function(r){var t=r.dataset.waveform;return new Promise(function(o){var a=r.dataset.audio,n=r.querySelector(\".audioplayer__timeline\"),i=e.default.create({container:n,waveColor:\"#ccc\",progressColor:\"#333\",backend:\"MediaElement\",barGap:2,barWidth:1,barHeight:3,partialRender:!1,responsive:!0,interpolate:!1,height:20});i.on(\"ready\",function(){setTimeout(function(){o(i)},500)}),fetch(t).then(function(e){if(!e.ok)throw new Error(\"HTTP error \"+e.status);return e.json()}).then(function(e){i.load(a,e.data),i.cancelAjax()}).catch(function(e){console.error(\"error\",e)})})};exports.initWaveform=t;"},"sourceMaps":{"js":{"mappings":[{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":0}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":13}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":20}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":35}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":43}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":56}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":57}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":64}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":68}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":76}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":94}},{"source":"js/audioplayer/_waveform.js","original":{"line":1,"column":0},"generated":{"line":1,"column":96}},{"source":"js/audioplayer/_waveform.js","original":{"line":1,"column":0},"generated":{"line":1,"column":100}},{"source":"js/audioplayer/_waveform.js","original":{"line":1,"column":0},"generated":{"line":1,"column":102}},{"source":"js/audioplayer/_waveform.js","original":{"line":1,"column":0},"generated":{"line":1,"column":104}},{"source":"js/audioplayer/_waveform.js","original":{"line":1,"column":0},"generated":{"line":1,"column":112}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":130}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":139}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":141}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":144}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":151}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":154}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":156}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":167}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":169}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":170}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":178}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":181}},{"source":"js/audioplayer/_waveform.js","name":"initWaveform","original":{"line":3,"column":13},"generated":{"line":1,"column":185}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":28},"generated":{"line":1,"column":187}},{"source":"js/audioplayer/_waveform.js","name":"audioplayer","original":{"line":3,"column":28},"generated":{"line":1,"column":196}},{"source":"js/audioplayer/_waveform.js","name":"waveformJSON","original":{"line":4,"column":8},"generated":{"line":1,"column":199}},{"source":"js/audioplayer/_waveform.js","name":"waveformJSON","original":{"line":4,"column":8},"generated":{"line":1,"column":203}},{"source":"js/audioplayer/_waveform.js","name":"audioplayer","original":{"line":4,"column":23},"generated":{"line":1,"column":205}},{"source":"js/audioplayer/_waveform.js","name":"dataset","original":{"line":4,"column":35},"generated":{"line":1,"column":207}},{"source":"js/audioplayer/_waveform.js","name":"waveform","original":{"line":4,"column":43},"generated":{"line":1,"column":215}},{"source":"js/audioplayer/_waveform.js","original":{"line":6,"column":9},"generated":{"line":1,"column":224}},{"source":"js/audioplayer/_waveform.js","original":{"line":6,"column":9},"generated":{"line":1,"column":231}},{"source":"js/audioplayer/_waveform.js","name":"Promise","original":{"line":6,"column":13},"generated":{"line":1,"column":235}},{"source":"js/audioplayer/_waveform.js","original":{"line":6,"column":22},"generated":{"line":1,"column":243}},{"source":"js/audioplayer/_waveform.js","name":"resolve","original":{"line":6,"column":22},"generated":{"line":1,"column":252}},{"source":"js/audioplayer/_waveform.js","name":"track_URL","original":{"line":7,"column":10},"generated":{"line":1,"column":255}},{"source":"js/audioplayer/_waveform.js","name":"track_URL","original":{"line":7,"column":10},"generated":{"line":1,"column":259}},{"source":"js/audioplayer/_waveform.js","name":"audioplayer","original":{"line":7,"column":22},"generated":{"line":1,"column":261}},{"source":"js/audioplayer/_waveform.js","name":"dataset","original":{"line":7,"column":34},"generated":{"line":1,"column":263}},{"source":"js/audioplayer/_waveform.js","name":"audio","original":{"line":7,"column":42},"generated":{"line":1,"column":271}},{"source":"js/audioplayer/_waveform.js","name":"container","original":{"line":8,"column":10},"generated":{"line":1,"column":277}},{"source":"js/audioplayer/_waveform.js","name":"audioplayer","original":{"line":8,"column":22},"generated":{"line":1,"column":279}},{"source":"js/audioplayer/_waveform.js","name":"querySelector","original":{"line":8,"column":34},"generated":{"line":1,"column":281}},{"source":"js/audioplayer/_waveform.js","original":{"line":8,"column":48},"generated":{"line":1,"column":295}},{"source":"js/audioplayer/_waveform.js","name":"waveform","original":{"line":9,"column":10},"generated":{"line":1,"column":321}},{"source":"js/audioplayer/_waveform.js","name":"WaveSurfer","original":{"line":9,"column":21},"generated":{"line":1,"column":323}},{"source":"js/audioplayer/_waveform.js","name":"create","original":{"line":9,"column":32},"generated":{"line":1,"column":325}},{"source":"js/audioplayer/_waveform.js","name":"create","original":{"line":9,"column":32},"generated":{"line":1,"column":333}},{"source":"js/audioplayer/_waveform.js","original":{"line":9,"column":39},"generated":{"line":1,"column":340}},{"source":"js/audioplayer/_waveform.js","name":"container","original":{"line":10,"column":6},"generated":{"line":1,"column":341}},{"source":"js/audioplayer/_waveform.js","name":"container","original":{"line":10,"column":17},"generated":{"line":1,"column":351}},{"source":"js/audioplayer/_waveform.js","name":"waveColor","original":{"line":11,"column":6},"generated":{"line":1,"column":353}},{"source":"js/audioplayer/_waveform.js","original":{"line":11,"column":17},"generated":{"line":1,"column":363}},{"source":"js/audioplayer/_waveform.js","name":"progressColor","original":{"line":12,"column":6},"generated":{"line":1,"column":370}},{"source":"js/audioplayer/_waveform.js","original":{"line":12,"column":21},"generated":{"line":1,"column":384}},{"source":"js/audioplayer/_waveform.js","name":"backend","original":{"line":13,"column":6},"generated":{"line":1,"column":391}},{"source":"js/audioplayer/_waveform.js","original":{"line":13,"column":15},"generated":{"line":1,"column":399}},{"source":"js/audioplayer/_waveform.js","name":"barGap","original":{"line":14,"column":6},"generated":{"line":1,"column":414}},{"source":"js/audioplayer/_waveform.js","original":{"line":14,"column":14},"generated":{"line":1,"column":421}},{"source":"js/audioplayer/_waveform.js","name":"barWidth","original":{"line":15,"column":6},"generated":{"line":1,"column":423}},{"source":"js/audioplayer/_waveform.js","original":{"line":15,"column":16},"generated":{"line":1,"column":432}},{"source":"js/audioplayer/_waveform.js","name":"barHeight","original":{"line":16,"column":6},"generated":{"line":1,"column":434}},{"source":"js/audioplayer/_waveform.js","original":{"line":16,"column":17},"generated":{"line":1,"column":444}},{"source":"js/audioplayer/_waveform.js","name":"partialRender","original":{"line":17,"column":6},"generated":{"line":1,"column":446}},{"source":"js/audioplayer/_waveform.js","original":{"line":17,"column":21},"generated":{"line":1,"column":461}},{"source":"js/audioplayer/_waveform.js","name":"responsive","original":{"line":18,"column":6},"generated":{"line":1,"column":463}},{"source":"js/audioplayer/_waveform.js","original":{"line":18,"column":18},"generated":{"line":1,"column":475}},{"source":"js/audioplayer/_waveform.js","name":"interpolate","original":{"line":19,"column":6},"generated":{"line":1,"column":477}},{"source":"js/audioplayer/_waveform.js","original":{"line":19,"column":19},"generated":{"line":1,"column":490}},{"source":"js/audioplayer/_waveform.js","name":"height","original":{"line":21,"column":6},"generated":{"line":1,"column":492}},{"source":"js/audioplayer/_waveform.js","original":{"line":21,"column":14},"generated":{"line":1,"column":499}},{"source":"js/audioplayer/_waveform.js","name":"waveform","original":{"line":24,"column":4},"generated":{"line":1,"column":504}},{"source":"js/audioplayer/_waveform.js","name":"on","original":{"line":24,"column":13},"generated":{"line":1,"column":506}},{"source":"js/audioplayer/_waveform.js","original":{"line":24,"column":16},"generated":{"line":1,"column":509}},{"source":"js/audioplayer/_waveform.js","original":{"line":24,"column":25},"generated":{"line":1,"column":517}},{"source":"js/audioplayer/_waveform.js","name":"setTimeout","original":{"line":25,"column":6},"generated":{"line":1,"column":528}},{"source":"js/audioplayer/_waveform.js","original":{"line":25,"column":17},"generated":{"line":1,"column":539}},{"source":"js/audioplayer/_waveform.js","name":"resolve","original":{"line":26,"column":8},"generated":{"line":1,"column":550}},{"source":"js/audioplayer/_waveform.js","name":"waveform","original":{"line":26,"column":16},"generated":{"line":1,"column":552}},{"source":"js/audioplayer/_waveform.js","original":{"line":27,"column":9},"generated":{"line":1,"column":556}},{"source":"js/audioplayer/_waveform.js","name":"fetch","original":{"line":30,"column":4},"generated":{"line":1,"column":563}},{"source":"js/audioplayer/_waveform.js","name":"waveformJSON","original":{"line":30,"column":10},"generated":{"line":1,"column":569}},{"source":"js/audioplayer/_waveform.js","name":"then","original":{"line":31,"column":7},"generated":{"line":1,"column":572}},{"source":"js/audioplayer/_waveform.js","original":{"line":31,"column":12},"generated":{"line":1,"column":577}},{"source":"js/audioplayer/_waveform.js","name":"response","original":{"line":31,"column":12},"generated":{"line":1,"column":586}},{"source":"js/audioplayer/_waveform.js","original":{"line":32,"column":12},"generated":{"line":1,"column":589}},{"source":"js/audioplayer/_waveform.js","name":"response","original":{"line":32,"column":13},"generated":{"line":1,"column":593}},{"source":"js/audioplayer/_waveform.js","name":"ok","original":{"line":32,"column":22},"generated":{"line":1,"column":595}},{"source":"js/audioplayer/_waveform.js","original":{"line":33,"column":16},"generated":{"line":1,"column":598}},{"source":"js/audioplayer/_waveform.js","original":{"line":33,"column":16},"generated":{"line":1,"column":604}},{"source":"js/audioplayer/_waveform.js","name":"Error","original":{"line":33,"column":20},"generated":{"line":1,"column":608}},{"source":"js/audioplayer/_waveform.js","original":{"line":33,"column":26},"generated":{"line":1,"column":614}},{"source":"js/audioplayer/_waveform.js","name":"response","original":{"line":33,"column":42},"generated":{"line":1,"column":628}},{"source":"js/audioplayer/_waveform.js","name":"status","original":{"line":33,"column":51},"generated":{"line":1,"column":630}},{"source":"js/audioplayer/_waveform.js","name":"response","original":{"line":35,"column":15},"generated":{"line":1,"column":638}},{"source":"js/audioplayer/_waveform.js","name":"response","original":{"line":35,"column":15},"generated":{"line":1,"column":645}},{"source":"js/audioplayer/_waveform.js","name":"json","original":{"line":35,"column":24},"generated":{"line":1,"column":647}},{"source":"js/audioplayer/_waveform.js","name":"then","original":{"line":37,"column":7},"generated":{"line":1,"column":656}},{"source":"js/audioplayer/_waveform.js","original":{"line":37,"column":12},"generated":{"line":1,"column":661}},{"source":"js/audioplayer/_waveform.js","name":"peaks","original":{"line":37,"column":12},"generated":{"line":1,"column":670}},{"source":"js/audioplayer/_waveform.js","name":"waveform","original":{"line":38,"column":8},"generated":{"line":1,"column":673}},{"source":"js/audioplayer/_waveform.js","name":"load","original":{"line":38,"column":17},"generated":{"line":1,"column":675}},{"source":"js/audioplayer/_waveform.js","name":"track_URL","original":{"line":38,"column":22},"generated":{"line":1,"column":680}},{"source":"js/audioplayer/_waveform.js","name":"peaks","original":{"line":38,"column":33},"generated":{"line":1,"column":682}},{"source":"js/audioplayer/_waveform.js","name":"data","original":{"line":38,"column":39},"generated":{"line":1,"column":684}},{"source":"js/audioplayer/_waveform.js","name":"waveform","original":{"line":39,"column":8},"generated":{"line":1,"column":690}},{"source":"js/audioplayer/_waveform.js","name":"cancelAjax","original":{"line":39,"column":17},"generated":{"line":1,"column":692}},{"source":"js/audioplayer/_waveform.js","name":"catch","original":{"line":41,"column":7},"generated":{"line":1,"column":707}},{"source":"js/audioplayer/_waveform.js","original":{"line":41,"column":13},"generated":{"line":1,"column":713}},{"source":"js/audioplayer/_waveform.js","name":"e","original":{"line":41,"column":14},"generated":{"line":1,"column":722}},{"source":"js/audioplayer/_waveform.js","name":"console","original":{"line":42,"column":8},"generated":{"line":1,"column":725}},{"source":"js/audioplayer/_waveform.js","name":"error","original":{"line":42,"column":16},"generated":{"line":1,"column":733}},{"source":"js/audioplayer/_waveform.js","original":{"line":42,"column":22},"generated":{"line":1,"column":739}},{"source":"js/audioplayer/_waveform.js","name":"e","original":{"line":42,"column":31},"generated":{"line":1,"column":747}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":755}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":763}},{"source":"js/audioplayer/_waveform.js","original":{"line":3,"column":7},"generated":{"line":1,"column":776}}],"sources":{"js/audioplayer/_waveform.js":"import WaveSurfer from \"wavesurfer.js\";\n\nexport const initWaveform = audioplayer => {\n  const waveformJSON = audioplayer.dataset.waveform;\n\n  return new Promise( resolve => {\n    const track_URL = audioplayer.dataset.audio;\n    const container = audioplayer.querySelector(\".audioplayer__timeline\");\n    const waveform = WaveSurfer.create({\n      container: container,\n      waveColor: \"#ccc\",\n      progressColor: \"#333\",\n      backend: 'MediaElement',\n      barGap: 2,\n      barWidth: 1,\n      barHeight: 3,\n      partialRender: false,\n      responsive: true,\n      interpolate: false,\n      // interact: false, \n      height: 20\n    });\n    \n    waveform.on(\"ready\", function() {\n      setTimeout(() => {\n        resolve(waveform);\n      }, 500);\n    });\n    // waveform.load(track_URL);\n    fetch(waveformJSON)\n      .then(response => {\n        if (!response.ok) {\n          throw new Error(\"HTTP error \" + response.status);\n        }\n        return response.json();\n      })\n      .then(peaks => {\n        waveform.load(track_URL, peaks.data);\n        waveform.cancelAjax();\n      })\n      .catch((e) => {\n        console.error('error', e);\n      });\n  });\n};"},"lineCount":null}},"error":null,"hash":"a91c0e9f41596fa5786ddee25daeb315","cacheData":{"env":{}}}